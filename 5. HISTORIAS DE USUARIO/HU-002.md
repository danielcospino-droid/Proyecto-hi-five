###HU-B â€“ Registro y GestiÃ³n de Incidentes

Requisito cubierto: RF-001.4

==========================================
ğŸ”¹ Metadatos

ID: HU-B

Epic: Seguridad y Control

Prioridad: Alta

VersiÃ³n: 1.0

ğŸ”¹ Historia de abducciÃ³n

Como personal administrativo, quiero registrar y gestionar incidentes ocurridos en el centro de entrenamiento, para mantener un control formal, ordenado y rastreable de los eventos que afectan la seguridad.

ğŸ”¹ DescripciÃ³n detallada

El sistema permitirÃ¡:

Registrar incidente con datos obligatorios (fecha, descripciÃ³n, responsables, gravedad).

Adjuntar evidencia (imÃ¡genes, PDFs).

Editar detalles del incidente.

Cambiar estado (abierto / en seguimiento / cerrado).

Consultar historial completo del incidente para auditorÃ­a.

ğŸ”¹ Criterios de aceptaciÃ³n

CA-01: Debe registrar incidentes con campos obligatorios.

CA-02: Permitir adjuntar archivos como evidencia.

CA-03: Permitir editar y actualizar datos del incidente.

CA-04: Mantener historial de cambios y estados.

CA-05: Permitir bÃºsqueda y filtrado por tipo, fecha, gravedad y estado.

Escenarios (Gherkin)
âœ” Escenario 1 â€“ Happy Path: Registro exitoso de incidente

Dado que el administrativo estÃ¡ en el formulario de incidentes
Cuando ingresa todos los datos obligatorios y guarda
Entonces el sistema registra el incidente
Y muestra el mensaje â€œIncidente registrado exitosamenteâ€.

âœ” Escenario 2 â€“ Flujo alternativo: Registro sin evidencia

Dado que el administrativo registra un incidente
Cuando no adjunta ninguna evidencia
Entonces el sistema registra igualmente el incidente
Y permite adjuntar evidencia mÃ¡s adelante.

âœ” Escenario 3 â€“ Manejo de errores: Archivo de evidencia no vÃ¡lido

Dado que el usuario intenta subir un archivo corrupto o no permitido
Cuando adjunta la evidencia
Entonces el sistema rechaza el archivo
Y muestra el mensaje â€œFormato o tamaÃ±o de archivo no permitidoâ€.

Reglas de negocio

RN-01: Todo incidente debe tener un estado.

RN-02: Solo usuarios autorizados pueden cerrar incidentes.

RN-03: Debe existir trazabilidad completa del incidente.

RN-04: Los incidentes de gravedad alta generan notificaciÃ³n inmediata.

DefiniciÃ³n de Terminado (DoD)

Flujo completo implementado (crear/ver/editar/cerrar).

Pruebas unitarias > 80%.

Carga de archivos validada.

DocumentaciÃ³n actualizada.

RevisiÃ³n de UX aprobada.

Seguridad revisada y validada.

Notas TÃ©cnicas

Manejo de archivos con almacenamiento seguro.

ValidaciÃ³n antivirus al subir archivos.

Logs de auditorÃ­a.

API RESTful para gestiÃ³n de incidentes.

Wireframe (descriptivo)

Pantalla â€œIncidentesâ€:

BotÃ³n â€œRegistrar Incidenteâ€.

Tabla filtrable: fecha, gravedad, responsable, estado.

Detalle del incidente con pestaÃ±a â€œEvidenciaâ€.

Tareas TÃ©cnicas

Crear modelo de datos (incidente + evidencia).

Endpoints REST (POST, GET, PUT).

Componente de carga de archivos.

Vista de tabla + filtros.

Control de permisos segÃºn rol.

Casos de Prueba

CP-B01: Registrar incidente con todos los datos.

CP-B02: Registrar incidente sin evidencia.

CP-B03: Subir archivo no permitido (error).

CP-B04: Cambiar estado del incidente.

ValidaciÃ³n INVEST

Cumple con todos los criterios: Independiente, negociable, valiosa, estimable, pequeÃ±a y testeable.
